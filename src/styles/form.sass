.form
  --color-primary: #2e3440
  --color-inactive: #d8dee9
  --color-hover: #afb4bd
  --color-active: #5e81ac
  --color-error: #BF616A
  --target-height: 40px
  --font-size: calc(var(--target-height) * 0.4)
  --height: calc(var(--font-size) * 2.5)
  --base-padding: calc((var(--height) - var(--font-size)) / 2)
  --border-radius: calc(var(--font-size) / 4)
  --background-color: transparent
  --border-width: calc(var(--font-size) / 9)
  --border-color: var(--color-inactive)
  --border-style: solid
  --border-inactive: var(--border-width) var(--border-style) var(--border-color)
  --border-active: var(--border-width) var(--border-style) var(--color-active)
  --border-error: var(--border-width) var(--border-style) var(--color-error)
  --border: var(--border-inactive)
  --line-height: calc(var(--target-height) - (var(--border-width) * 2))
  --label-fz: calc(var(--font-size) * 0.813)
  --label-fw: 600
  --label-c: var(--color-primary)
  --label-pb: calc(var(--base-padding) / 2)
  --transition-field: color 0.1s ease, border-color 0.1s ease

  font-size: var(--font-size)
  box-sizing: border-box

  [data-valid="false"]
    --border: var(--border-error)
  *
    box-sizing: border-box
    padding: 0

  fieldset, legend
    border: none
    padding: 0

  .fieldset
    display: grid

  input:not([type='checkbox'], [type='radio']), textarea, select
    appearance: none
    background-color: var(--background-color)
    border-radius: var(--border-radius)
    border: var(--border)
    font-size: var(--font-size)
    height: var(--height)
    padding: 0 var(--base-padding)
    transition: var(--transition-field)
    width: 100%
    &:hover,
    &:focus,
    &:focus-visible
      outline: none
      --border: var(--border-active)

  .field
    margin-bottom: var(--base-padding)
    accent-color: var(--color-active)

    display: grid
    grid-template-columns: 1fr
    grid-template-rows: auto
    grid-template-areas: "label" "control" "errors"

    // grid-template-areas: "label control" ".  errors "

    &-label
      grid-area: label
      font-size: var(--label-fz)
      font-weight: var(--label-fw)
      color: var(--label-c)
      padding-bottom: var(--label-pb)
      // padding-right: var(--base-padding)
      // white-space: nowrap
      // align-self: center

    &-control
      grid-area: control
      position: relative

    &-errors
      grid-area: errors
      font-size: var(--label-fz)
      color: var(--color-error)

    &-range
      input
        padding: 0
        border: none
        &::-webkit-slider-runnable-track
          background: var(--color-inactive)
          border-radius: var(--border-radius)
          border: var(--border)
          cursor: pointer
          height: calc(var(--height) / 3)
          width: 100%
        &::-webkit-slider-thumb
          -webkit-appearance: none
          background: var(--color-active)
          border-radius: var(--border-radius)
          border: 0
          cursor: pointer
          height: var(--height)
          margin-top: calc(((var(--height) / 3) * -1 ) - var(--border-width))
          width: calc(var(--height) / 2)
          &:hover
            background: var(--color-active)

    &-color
      input
        padding: 0
        &::-webkit-color-swatch-wrapper
          padding: 0
          padding: calc(var(--base-padding) /4)
        &::-webkit-color-swatch
          border-radius: var(--border-radius)
          border: 0

    &-textarea
      textarea
        height: auto
        display: block
        line-height: 1.3
        font-family: inherit
        padding-top: calc(var(--base-padding) / 2)
        &::-webkit-scrollbar
          width: 0

    &-select
      .field-wrapper
        position: relative
        &::after
          background-color: var(--border-color)
          clip-path: polygon(80% 10%, 0% 10%, 40% 80%)
          content: ""
          height: var(--font-size)
          pointer-events: none
          position: absolute
          right: var(--base-padding)
          top: var(--base-padding)
          width: var(--font-size)
        &:hover::after
          background-color: var(--color-active)

    &-hidden
      display: none

    &-radioGroup
      .field-wrapper
        display: flex
        column-gap: var(--base-padding)
      .field-option
        display: inline-block
        padding: var(--base-padding) 0
        cursor: pointer
        font-size: var(--font-size)
        white-space: nowrap

      input[type="radio"]
        margin-right: calc(var(--base-padding) / 2)
        display: inline-block
        width: calc(var(--font-size) * 0.8)
        height: calc(var(--font-size) * 0.8)

    &-object
      legend
        border-bottom: var(--border-width) solid #d8dee9
        padding: 0
        margin-bottom: var(--base-padding)

      .fieldset
        padding-left: var(--base-padding)

        .field
          position: relative
          &:nth-child(1)::before
            height: calc(100% - (var(--base-padding) * 0.6))
            top: calc((var(--target-height) / 2 * -1) + (var(--base-padding) * 0.6))
          &::before
            content: ""
            display: block
            width: var(--base-padding)
            height: calc(100% + var(--base-padding))
            position: absolute
            border: 0 solid var(--border-color)
            border-width: 0 0 var(--border-width) var(--border-width)
            top: calc((var(--target-height) / 2 * -1) - var(--base-padding))
            left: calc(var(--base-padding) * -1)

    &-array
      ol
        padding-left: calc(var(--base-padding) * 2)
        counter-reset: li
      li
        border-left: var(--border-width) solid var(--border-color)
        padding-left: var(--base-padding)
        &:before
          content: counter(li, decimal-leading-zero)
          counter-increment: li
          color: var(--color-active)
          margin: 0
          position: absolute
          width: calc(var(--base-padding) * 2)
          height: calc(var(--base-padding) * 2)
          display: block
          // vertical-align: middle
          // border-radius: var(--border-radius)
          // border: var(--border)
          background-color: var(--color-inactive)
          text-align: center
          line-height: calc(var(--base-padding) * 2)
          margin-left: calc(var(--base-padding) * -3)
          font-size: calc(var(--base-padding) * 0.9)

        &::marker
          display: none

  button
    background-color: var(--border-color)
    border-radius: var(--border-radius)
    border: var(--border-width) solid var(--border-color)
    cursor: pointer
    display: block
    font-size: var(--font-size)
    height: var(--height)
    padding: var(--base-padding)
    transition: var(--transition-field)
    width: 100%
    margin-bottom: var(--base-padding)
    &:hover
      --border-color: var(--color-hover)
    &:focus,
    &:focus-visible
      outline: none
      --border-color: var(--color-active)
      color: white
